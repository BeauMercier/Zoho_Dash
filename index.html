<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    </head>
<body>
    <h1>Zoho iFrame Button Test</h1>
    <button onclick="sendMessageToZoho('https://leads.drasticdigital.com')">View Leads</button>
    <button id="drive-button" onclick="openDriveLink()">Open Google Drive</button>

    <script>
        let driveLink = "https://drive.google.com/drive/folders/YOUR_DEFAULT_FOLDER_ID"; // Default

        function sendMessageToZoho(url) {
            window.parent.postMessage({ type: "openExternalLink", url: url }, "*");
        }

        function openDriveLink() {
          if (driveLink) { // Check if driveLink is set
            sendMessageToZoho(driveLink);
          } else {
            console.error("Drive link not yet available.");
            // Optionally, display a message to the user
            alert("Drive link is not yet available. Please wait.");
          }
        }


        window.addEventListener("message", function(event) {
            if (event.data && event.data.type === "setDriveLink") {
                driveLink = event.data.link;
                console.log("Received Drive link:", driveLink); // For debugging
            }
        });

      //  Remove the DOMContentLoaded listener.  We're now receiving the link via postMessage.
    </script>
</body>
</html>
