<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoho iFrame Button Test</title>
</head>
<body>

    <h1>Zoho iFrame Button Test</h1>

    <!-- Leads Button -->
    <button id="openLeads">View Leads</button>

    <!-- Google Drive Button -->
    <button id="openDrive">Open Google Drive</button>

    <script>
        // Function to open a new tab
        function openInNewTab(url) {
            window.open(url, "_blank", "noopener,noreferrer");
        }

        // Google Drive Button (Uses URL Passed from Zoho)
        document.addEventListener("DOMContentLoaded", function () {
            const params = new URLSearchParams(window.location.search);
            const driveLink = params.get("drive_link");

            document.getElementById("openDrive").addEventListener("click", function () {
                if (driveLink && driveLink.trim() !== "" && driveLink.toLowerCase() !== "null") {
                    openInNewTab(driveLink);
                } else {
                    alert("Google Drive link is missing!");
                }
            });
        });

        // Leads Button (Triggers Zoho Creator Function)
        document.getElementById("openLeads").addEventListener("click", function () {
            parent.postMessage({ type: "openZohoUrl", url: "https://leads.drasticdigital.com" }, "*");
        });

    </script>

</body>
</html>
